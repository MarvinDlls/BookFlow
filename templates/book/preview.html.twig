{% extends 'base.html.twig' %}

{% block title %}Aperçu du Livre - {{ book.title }}{% endblock %}

{% block body %}
	<div class="container mx-auto px-4 py-8 max-w-6xl">
		<nav class="mb-6 bg-gray-50 px-4 py-3 rounded-lg shadow-sm">
			<ol class="flex items-center space-x-2 text-sm">
				<li class="flex items-center">
					<a href="{{ path('app_books_list') }}" class="text-red-800 hover:text-red-900 transition">Livres</a>
					{{ ux_icon('line-md:chevron-right', { class: 'ml-3 h-4 w-4' }) }}
				</li>
				<li class="text-gray-700 font-medium truncate">{{ book.title }}</li>
			</ol>
		</nav>

		<div class="bg-white rounded-2xl shadow-lg overflow-hidden transition-transform duration-300 hover:shadow-xl">
			<div class="md:flex">
				<div class="md:w-1/3 bg-gray-50 flex justify-center items-center p-6">
					{% if book.thumbnail %}
						<img src="{{ book.thumbnail }}" alt="{{ book.title }}" class="w-full object-contain rounded-lg shadow-md transform transition-transform duration-300 hover:scale-105">
					{% else %}
						{{ ux_icon('famicons:book', { class: 'h-64 w-64 text-gray-300' }) }}
					{% endif %}
				</div>

				<div class="md:w-2/3 p-6">
					<h1 class="text-3xl font-bold text-gray-800 mb-2">{{ book.title }}</h1>

					{% if book.authors %}
						<p class="text-gray-600 mb-4">Par <span class="font-medium">{{ book.authors|join(', ') }}</span></p>
					{% endif %}

					<div class="mt-8">
						{% if book.previewLink %}
							<h5 class="text-xl font-bold text-gray-800 mb-4">Aperçu du livre</h5>
							<iframe src="https://books.google.fr/books?id={{ book.id }}&printsec=frontcover&output=embed" width="100%" height="600" class="rounded-lg shadow-md"></iframe>
						{% else %}
							<p class="text-gray-500 italic">Aperçu non disponible pour ce livre.</p>
						{% endif %}
					</div>

					<div class="mt-8">
						<a href="{{ path('app_book_details', {'id': book.id}) }}" class="inline-flex items-center px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors">
							<svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
							</svg>
							Retour aux détails
						</a>
					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}